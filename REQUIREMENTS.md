## REQUIREMENTS.md

Discord 議事録自動化システム — *シンプル・自動・オンデマンド方式*

### ▼ 目的 / 背景

* Discord ボイスチャットを **完全自動でリアルタイム録音 & 議事録化**
* **VC参加するだけ** で自動録音開始、**「今まで」ボタン1回** でいつでも要約取得
* **操作を最小限に**、**録音し忘れを完全解消** した直感的なシステム

---

### ▼ 機能一覧（ユーザー視点）

| # | 機能 | 実装状況 | 説明 |
|-|-|:-:|-|
| 1 | **完全自動録音** | ✅ | VC参加と同時にBot自動参加・録音開始。ユーザーは何もしなくてOK |
| 2 | **2時間バッファ** | ✅ | Redis TTL=7200秒で音声データを自動保持。過去2時間分いつでもアクセス可能 |
| 3 | **オンデマンド要約** | ✅ | 「📜今まで」ボタンでワンクリック要約生成。LLMは使用時のみ課金 |
| 4 | **常設コントロールパネル** | ✅ | 全VCテキストチャットに「🎧リスニング中」パネル常時表示 |
| 5 | **シンプルUI** | ✅ | ボタン1個のみ。複雑な録音制御を完全排除 |

---

### ▼ 非機能要件（抜粋）

* **コスト** : LLM は呼び出し時のみ → 1 時間会議×3 回要約 ≈ **0.5 円**
* **レイテンシ** : /sofar 応答 1 shot ≈ 1 s、最長でも 3 s
* **セキュリティ** : 音声は Redis 内のみ・30 分後消滅。
* **運用** : Cloud Run ワンクリックデプロイ・オンプレ GPU は Vibe Docker

---
